/*!
 * Bricks.js 1.7.1 - A blazing fast masonry layout generator for fixed width elements.
 * Copyright (c) 2016 Michael Cavalea - https://github.com/callmecavs/bricks.js
 * License: MIT
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.Bricks=n()}(this,function(){"use strict";var t=(function(){function t(t){this.value=t}function n(n){function e(t,n){return new Promise(function(e,o){var c={key:t,arg:n,resolve:e,reject:o,next:null};u?u=u.next=c:(i=u=c,r(t,n))})}function r(e,i){try{var u=n[e](i),c=u.value;c instanceof t?Promise.resolve(c.value).then(function(t){r("next",t)},function(t){r("throw",t)}):o(u.done?"return":"normal",u.value)}catch(t){o("throw",t)}}function o(t,n){switch(t){case"return":i.resolve({value:n,done:!0});break;case"throw":i.reject(n);break;default:i.resolve({value:n,done:!1})}i=i.next,i?r(i.key,i.arg):u=null}var i,u;this._invoke=e,"function"!=typeof n.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(n.prototype[Symbol.asyncIterator]=function(){return this}),n.prototype.next=function(t){return this._invoke("next",t)},n.prototype.throw=function(t){return this._invoke("throw",t)},n.prototype.return=function(t){return this._invoke("return",t)},{wrap:function(t){return function(){return new n(t.apply(this,arguments))}},await:function(n){return new t(n)}}}(),Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}),n=function(){function n(t,n){return u[t]=u[t]||[],u[t].push(n),this}function e(t,e){return e._once=!0,n(t,e),this}function r(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n?u[t].splice(u[t].indexOf(n),1):delete u[t],this}function o(t){for(var n=this,e=arguments.length,o=Array(e>1?e-1:0),i=1;i<e;i++)o[i-1]=arguments[i];var c=u[t]&&u[t].slice();return c&&c.forEach(function(e){e._once&&r(t,e),e.apply(n,o)}),this}var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u={};return t({},i,{on:n,once:e,off:r,emit:o})},e=function(){function t(t){t.forEach(function(t){return t()})}function e(t){arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return w.call(t)}function r(t){return Array.apply(null,Array(t)).map(function(){return 0})}function o(){return I.map(function(t){return t.mq&&window.matchMedia("(min-width: "+t.mq+")").matches}).indexOf(!0)}function i(){k=o()}function u(){b=k===-1?I[I.length-1]:I[k]}function c(){O=r(b.columns)}function a(){q=F[g?"new":"all"]()}function f(){0!==q.length&&(z=q.map(function(t){return t.clientWidth}),S=q.map(function(t){return t.clientHeight}))}function l(){q.forEach(function(t,n){A=O.indexOf(Math.min.apply(Math,O)),t.style.position="absolute",_=O[A]+"px",j=A*z[n]+A*b.gutter+"px",L?(t.style.top=_,t.style.left=j):t.style.transform="translate3d("+j+", "+_+", 0)",t.setAttribute(P,""),E=z[n],M=S[n],E&&M&&(O[A]+=M+b.gutter)})}function s(){B.style.position="relative",B.style.width=b.columns*E+(b.columns-1)*b.gutter+"px",B.style.height=Math.max.apply(Math,O)-b.gutter+"px"}function d(){x||(requestAnimationFrame(p),x=!0)}function p(){k!==o()&&(h(),W.emit("resize",b)),x=!1}function h(){return g=!1,t(H.concat(T)),W.emit("pack")}function v(){return g=!0,t(T),W.emit("update")}function y(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=t?"addEventListener":"removeEventListener";return window[n]("resize",d),W}var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},w=Array.prototype.slice,g=void 0,x=void 0,k=void 0,b=void 0,A=void 0,O=void 0,_=void 0,j=void 0,E=void 0,M=void 0,q=void 0,z=void 0,S=void 0,P=0===m.packed.indexOf("data-")?m.packed:"data-"+m.packed,I=m.sizes.slice().reverse(),L=m.position!==!1,B=m.container.nodeType?m.container:document.querySelector(m.container),F={all:function(){return e(B.children)},new:function(){return e(B.children).filter(function(t){return!t.hasAttribute(""+P)})}},H=[i,u,c],T=[a,f,l,s],W=n({pack:h,update:v,resize:y});return W};return e});
