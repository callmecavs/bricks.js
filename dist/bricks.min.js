/*!
 * Bricks.js 1.3.0 - A blazing fast masonry layout generator for fixed width elements.
 * Copyright (c) 2016 Michael Cavalea - https://github.com/callmecavs/bricks.js
 * License: MIT
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.Bricks=t()}(this,function(){"use strict";var n={};n["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},n["extends"]=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n};var t=function(){function t(n,t){return u[n]=u[n]||[],u[n].push(t),this}function e(n,e){return e._once=!0,t(n,e),this}function o(n){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];return t?u[n].splice(u[n].indexOf(t),1):delete u[n],this}function r(n){for(var t=this,e=arguments.length,r=Array(e>1?e-1:0),i=1;e>i;i++)r[i-1]=arguments[i];var c=u[n]&&u[n].slice();return c&&c.forEach(function(e){e._once&&o(n,e),e.apply(t,r)}),this}var i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],u={};return n["extends"]({},i,{on:t,once:e,off:o,emit:r})},e=function(){function e(n){n.forEach(function(n){return n()})}function o(n){return Array.prototype.slice.call(document.querySelectorAll(n))}function r(n){return Array.apply(null,Array(n)).map(function(){return 0})}function i(){return L.map(function(n){return n.mq&&window.matchMedia("(min-width: "+n.mq+")").matches}).indexOf(!0)}function u(){A=i()}function c(){k=-1===A?L[L.length-1]:L[A]}function f(){O=r(k.columns)}function a(){S=M?Array.from(b?B["new"]():B.all()):o(b?_["new"]:_.all)}function l(){0!==S.length&&(q=S[0].clientWidth,E=S.map(function(n){return n.clientHeight}))}function d(){S.forEach(function(n,t){var e=O.indexOf(Math.min.apply(Math,O));n.style.position="absolute",n.style.top=O[e]+"px",n.style.left=e*q+e*k.gutter+"px",n.setAttribute(z,""),O[e]+=E[t]+k.gutter})}function p(t){return!(!t||"object"!==("undefined"==typeof t?"undefined":n["typeof"](t))||1!==t.nodeType||!t.nodeName)}function s(){j.style.position="relative",j.style.width=k.columns*q+(k.columns-1)*k.gutter+"px",j.style.height=Math.max.apply(Math,O)-k.gutter+"px"}function y(){w||(requestAnimationFrame(m),w=!0)}function m(){A!==i()&&(h(),N.emit("resize",k)),w=!1}function h(){return b=!1,e(F.concat(H)),N.emit("pack")}function v(){return b=!0,e(H),N.emit("update")}function g(){var n=arguments.length<=0||void 0===arguments[0]?!0:arguments[0],t=n?"addEventListener":"removeEventListener";return window[t]("resize",y),N}var x=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],b=void 0,w=void 0,A=void 0,k=void 0,O=void 0,S=void 0,q=void 0,E=void 0,M=p(x.container),j=M?x.container:document.querySelector(x.container),z=0===x.packed.indexOf("data-")?x.packed:"data-"+x.packed,L=x.sizes.slice().reverse(),_={all:x.container+" > *","new":x.container+" > *:not(["+z+"])"},B={all:function(){return Array.from(j.children)},"new":function(){return Array.from(j.querySelectorAll(":not([${ packed }])"))}},F=[u,c,f],H=[a,l,d,s],N=t({pack:h,update:v,resize:g});return N};return e});